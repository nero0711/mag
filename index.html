<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–∞–≥–∞–∑–∏–Ω</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 16px;
      background: #f4f4f4;
    }
    .product {
      background: white;
      margin-bottom: 16px;
      padding: 16px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .quantity-control {
      display: flex;
      align-items: center;
      margin: 10px 0;
    }
    .quantity-btn {
      background-color: #27ae60;
      color: white;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .quantity-input {
      width: 50px;
      text-align: center;
      margin: 0 10px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button.add-to-cart {
      background-color: #3390ec;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
    }
    button.add-to-cart:hover {
      background-color: #2878cc;
    }
    .cart-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #ff6b00;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body>

  <h1>üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω</h1>

  <div class="product">
    <h2>–¢–æ–≤–∞—Ä 1</h2>
    <p>–¶–µ–Ω–∞: <span id="price1">500</span> ‚ÇΩ</p>
    <div class="quantity-control">
      <button class="quantity-btn" onclick="changeQuantity('qty1', -1)">-</button>
      <input type="text" class="quantity-input" id="qty1" value="1" readonly>
      <button class="quantity-btn" onclick="changeQuantity('qty1', 1)">+</button>
    </div>
    <button class="add-to-cart" onclick="addToCart('–¢–æ–≤–∞—Ä 1', 500, 'qty1')">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>

  <div class="product">
    <h2>–¢–æ–≤–∞—Ä 2</h2>
    <p>–¶–µ–Ω–∞: <span id="price2">1200</span> ‚ÇΩ</p>
    <div class="quantity-control">
      <button class="quantity-btn" onclick="changeQuantity('qty2', -1)">-</button>
      <input type="text" class="quantity-input" id="qty2" value="1" readonly>
      <button class="quantity-btn" onclick="changeQuantity('qty2', 1)">+</button>
    </div>
    <button class="add-to-cart" onclick="addToCart('–¢–æ–≤–∞—Ä 2', 1200, 'qty2')">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>

  <div class="product">
    <h2>–¢–æ–≤–∞—Ä 3</h2>
    <p>–¶–µ–Ω–∞: <span id="price3">750</span> ‚ÇΩ</p>
    <div class="quantity-control">
      <button class="quantity-btn" onclick="changeQuantity('qty3', -1)">-</button>
      <input type="text" class="quantity-input" id="qty3" value="1" readonly>
      <button class="quantity-btn" onclick="changeQuantity('qty3', 1)">+</button>
    </div>
    <button class="add-to-cart" onclick="addToCart('–¢–æ–≤–∞—Ä 3', 750, 'qty3')">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>

  <button class="cart-btn" onclick="openCart()">üõí</button>

  <script>
    const webApp = window.Telegram.WebApp;

    // –§—É–Ω–∫—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
    function changeQuantity(inputId, delta) {
      const input = document.getElementById(inputId);
      let value = parseInt(input.value) || 1;
      value += delta;
      if (value < 1) value = 1;
      input.value = value;
    }

    function addToCart(name, price, qtyId) {
      const quantity = parseInt(document.getElementById(qtyId).value);
      if (quantity <= 0) {
        webApp.showAlert("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0");
        return;
      }

      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.push({ name, price, quantity });
      localStorage.setItem("cart", JSON.stringify(cart));

      webApp.showAlert(`–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É: ${name} √ó ${quantity}`);
    }

    function openCart() {
      webApp.openTelegramLink("https://nero0711.github.io/mag/cart.html");
    }

    webApp.ready();
  </script>

</body>
</html>
